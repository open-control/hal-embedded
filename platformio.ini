; Open Control - HAL Common Types

[platformio]
default_envs = dev

; ============================================================================
; Common settings shared by all environments
; ============================================================================
[env]
framework = arduino
build_flags = -std=gnu++17 -I src

; ============================================================================
; Development: uses local repos via symlink (requires repos in ../)
; Usage: pio run -e dev
; ============================================================================
[env:dev]
platform = teensy
board = teensy41
lib_deps =
    framework=symlink://../framework

; ============================================================================
; Release: uses GitHub repos (standalone, no local deps required)
; Usage: pio run -e release
; ============================================================================
[env:release]
platform = teensy
board = teensy41
lib_deps =
    https://github.com/open-control/framework

; ============================================================================
; Cross-platform compilation tests
; ============================================================================
[env:esp32]
platform = espressif32
platform_packages = espressif/toolchain-xtensa-esp32@12.2.0+20230208
board = esp32dev
build_unflags = -std=gnu++11
lib_deps =
    https://github.com/open-control/framework

[env:teensy41]
platform = teensy
board = teensy41
lib_deps =
    https://github.com/open-control/framework
